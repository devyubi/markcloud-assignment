import{j as e,r as d}from"./index-X4rfO8ph.js";import{u as j,B as b,m as k,a as C,H as S,E as T,T as D,b as F}from"./useFavorites-CGqV69fQ.js";const x=({label:a,error:l,className:c="",...t})=>e.jsxs("div",{className:"w-full",children:[a&&e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:a}),e.jsx("input",{className:`w-full px-4 py-2.5 text-sm border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900 focus:border-transparent transition-all ${l?"border-red-500 focus:ring-red-500":""} ${c}`,...t}),l&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:l})]}),E=({label:a,options:l,className:c="",...t})=>e.jsxs("div",{className:"w-full",children:[a&&e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:a}),e.jsx("select",{className:`w-full px-4 py-2.5 text-sm border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-900 focus:border-transparent transition-all cursor-pointer bg-white ${c}`,...t,children:l.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))})]}),N=({filters:a,onFiltersChange:l,isMobile:c=!1})=>{const{t}=j(),[r,o]=d.useState(a),m=[{value:"all",label:t("status.all")},{value:"registered",label:t("status.registered")},{value:"underExamination",label:t("status.underExamination")},{value:"published",label:t("status.published")},{value:"abandoned",label:t("status.abandoned")},{value:"cancelled",label:t("status.cancelled")},{value:"expired",label:t("status.expired")}],h=()=>{l(r)},n=()=>{const s={...r,searchTerm:"",applicationNumber:"",status:"all",startDate:"",endDate:""};o(s),l(s)};return e.jsxs("div",{className:`bg-white ${c?"p-4":"rounded-lg border border-slate-200 p-6"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:t("search.filters")}),e.jsx("button",{onClick:n,className:"text-sm text-slate-600 hover:text-slate-900 transition-colors cursor-pointer whitespace-nowrap",children:t("search.clearFilters")})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(x,{label:t("search.placeholder"),placeholder:t("search.placeholder"),value:r.searchTerm,onChange:s=>o({...r,searchTerm:s.target.value})}),e.jsx(x,{label:t("search.applicationNumber"),placeholder:t("search.applicationNumberPlaceholder"),value:r.applicationNumber,onChange:s=>o({...r,applicationNumber:s.target.value})}),e.jsx(E,{label:t("search.status"),options:m,value:r.status,onChange:s=>o({...r,status:s.target.value})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:t("search.dateRange")}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(x,{type:"date",placeholder:t("search.startDate"),value:r.startDate,onChange:s=>o({...r,startDate:s.target.value})}),e.jsx(x,{type:"date",placeholder:t("search.endDate"),value:r.endDate,onChange:s=>o({...r,endDate:s.target.value})})]})]}),e.jsx(b,{variant:"primary",className:"w-full",onClick:h,children:t("search.applyFilters")})]})]})},R=()=>e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-5 animate-pulse",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-6 bg-slate-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/2"})]}),e.jsx("div",{className:"w-6 h-6 bg-slate-200 rounded-full ml-3"})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"h-4 bg-slate-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-4/6"})]}),e.jsx("div",{className:"h-10 bg-slate-200 rounded-lg"})]}),L=({onRetry:a})=>{const{t:l}=j();return e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[e.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-red-100 rounded-full mb-4",children:e.jsx("i",{className:"ri-error-warning-line text-3xl text-red-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:l("error.title")}),e.jsx("p",{className:"text-sm text-slate-600 text-center max-w-md mb-6",children:l("error.message")}),e.jsx(b,{variant:"primary",onClick:a,children:l("error.retry")})]})},P=a=>{const[l,c]=d.useState([]),[t,r]=d.useState(!1),[o,m]=d.useState(null);return d.useEffect(()=>{(async()=>{r(!0),m(null);try{await new Promise(s=>setTimeout(s,800));let n=k.filter(s=>s.country===a.country);if(a.searchTerm){const s=a.searchTerm.toLowerCase();n=n.filter(u=>u.productName.toLowerCase().includes(s)||u.productNameEng&&u.productNameEng.toLowerCase().includes(s))}a.applicationNumber&&(n=n.filter(s=>s.applicationNumber===a.applicationNumber)),a.status!=="all"&&(n=n.filter(s=>s.status===a.status)),a.startDate&&(n=n.filter(s=>s.applicationDate>=a.startDate)),a.endDate&&(n=n.filter(s=>s.applicationDate<=a.endDate)),c(n)}catch{m("Failed to fetch trademarks")}finally{r(!1)}})()},[a]),{results:l,loading:t,error:o}};function B(){const{t:a}=j(),[l,c]=d.useState({country:"korea",searchTerm:"",applicationNumber:"",status:"all",startDate:"",endDate:""}),[t,r]=d.useState(""),[o,m]=d.useState(null),[h,n]=d.useState(!1),{results:s,loading:u,error:p}=P(l),{toggleFavorite:g,isFavorite:f}=C(),v=()=>{c({...l,searchTerm:t})},w=i=>{c({...l,country:i})},y=()=>{c({...l})};return e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx(S,{selectedCountry:l.country,onCountryChange:w}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(x,{placeholder:a("search.placeholder"),value:t,onChange:i=>r(i.target.value),onKeyPress:i=>i.key==="Enter"&&v(),className:"flex-1"}),e.jsx(b,{variant:"primary",onClick:v,className:"px-8",children:a("search.button")})]})})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx("aside",{className:"hidden lg:block w-80 flex-shrink-0",children:e.jsx("div",{className:"sticky top-24",children:e.jsx(N,{filters:l,onFiltersChange:c})})}),e.jsx("div",{className:"lg:hidden",children:e.jsxs(b,{variant:"outline",onClick:()=>n(!0),className:"w-full",children:[e.jsx("div",{className:"w-5 h-5 flex items-center justify-center mr-2",children:e.jsx("i",{className:"ri-filter-3-line"})}),a("search.filters")]})}),e.jsxs("main",{className:"flex-1 min-w-0",children:[!u&&!p&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:a("results.title")}),e.jsx("p",{className:"text-sm text-slate-600",children:a("results.count",{count:s.length})})]}),u&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(i=>e.jsx(R,{},i))}),p&&e.jsx(L,{onRetry:y}),!u&&!p&&s.length===0&&e.jsx(T,{icon:"ri-search-line",title:a("results.noResults"),description:a("results.noResultsDesc")}),!u&&!p&&s.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map(i=>e.jsx(D,{trademark:i,isFavorite:f(i.id),onToggleFavorite:g,onViewDetails:m},i.id))})]})]})]}),h&&e.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[e.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-50",onClick:()=>n(!1)}),e.jsxs("div",{className:"fixed inset-y-0 right-0 max-w-sm w-full bg-white shadow-xl overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:a("search.filters")}),e.jsx("button",{onClick:()=>n(!1),className:"cursor-pointer text-slate-400 hover:text-slate-600",children:e.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:e.jsx("i",{className:"ri-close-line text-2xl"})})})]}),e.jsx(N,{filters:l,onFiltersChange:i=>{c(i),n(!1)},isMobile:!0})]})]}),o&&e.jsx(F,{trademark:o,isFavorite:f(o.id),onToggleFavorite:g,onClose:()=>m(null)})]})}export{B as default};
//# sourceMappingURL=page-DVUwozK5.js.map
